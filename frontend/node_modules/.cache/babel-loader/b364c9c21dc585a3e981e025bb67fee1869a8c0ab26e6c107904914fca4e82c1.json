{"ast":null,"code":"var _jsxFileName = \"/Users/glockstock/Projects/fantasy-football-roguelike/frontend/src/components/CardShop.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useGame } from '../context/GameContext';\nimport CardComponent from './CardComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardShop = () => {\n  _s();\n  const {\n    gameState,\n    setGameState\n  } = useGame();\n  const [availableCards, setAvailableCards] = useState({\n    players: [],\n    plays: [],\n    modifiers: []\n  });\n  const [selectedCategory, setSelectedCategory] = useState('players');\n  const [isOpen, setIsOpen] = useState(false);\n  useEffect(() => {\n    fetchAvailableCards();\n  }, []);\n  const fetchAvailableCards = async () => {\n    try {\n      const [playersRes, playsRes, modifiersRes] = await Promise.all([fetch('/api/cards/players'), fetch('/api/cards/plays'), fetch('/api/cards/modifiers')]);\n      const players = await playersRes.json();\n      const plays = await playsRes.json();\n      const modifiers = await modifiersRes.json();\n      setAvailableCards({\n        players,\n        plays,\n        modifiers\n      });\n    } catch (error) {\n      console.error('Failed to fetch available cards:', error);\n    }\n  };\n  const buyCard = async (cardId, cardType) => {\n    if (!gameState) return;\n    let card;\n    if (cardType === 'players') {\n      card = availableCards.players.find(c => c.id === cardId);\n    } else if (cardType === 'plays') {\n      card = availableCards.plays.find(c => c.id === cardId);\n    } else {\n      card = availableCards.modifiers.find(c => c.id === cardId);\n    }\n    if (!card) return;\n\n    // Simple buying logic - in a real game, you'd have currency/points system\n    const newDeck = {\n      ...gameState.deck,\n      [cardType]: [...gameState.deck[cardType], cardId]\n    };\n    setGameState({\n      ...gameState,\n      deck: newDeck\n    });\n    alert(`Added ${card.name} to your deck!`);\n  };\n  const getCurrentCards = () => {\n    switch (selectedCategory) {\n      case 'players':\n        return availableCards.players;\n      case 'plays':\n        return availableCards.plays;\n      case 'modifiers':\n        return availableCards.modifiers;\n      default:\n        return [];\n    }\n  };\n  if (!isOpen) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsOpen(true),\n        className: \"w-full px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors\",\n        children: \"Open Card Shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-lg p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-800\",\n        children: \"Card Shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsOpen(false),\n        className: \"text-gray-500 hover:text-gray-700\",\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-2 mb-4\",\n      children: ['players', 'plays', 'modifiers'].map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedCategory(category),\n        className: `px-4 py-2 rounded capitalize transition-colors ${selectedCategory === category ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n        children: category\n      }, category, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 gap-4 max-h-96 overflow-y-auto\",\n      children: getCurrentCards().map(card => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4 p-3 border rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: /*#__PURE__*/_jsxDEV(CardComponent, {\n            card: {\n              id: card.id,\n              type: selectedCategory.slice(0, -1),\n              data: card\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => buyCard(card.id, selectedCategory),\n          className: \"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors\",\n          children: [\"Buy ($\", card.cost, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)]\n      }, card.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), getCurrentCards().length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-gray-500 py-8\",\n      children: [\"No \", selectedCategory, \" available\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s(CardShop, \"DbDFJTZFFd3t9Chfx9j5Kx9D2wE=\", false, function () {\n  return [useGame];\n});\n_c = CardShop;\nexport default CardShop;\nvar _c;\n$RefreshReg$(_c, \"CardShop\");","map":{"version":3,"names":["React","useState","useEffect","useGame","CardComponent","jsxDEV","_jsxDEV","CardShop","_s","gameState","setGameState","availableCards","setAvailableCards","players","plays","modifiers","selectedCategory","setSelectedCategory","isOpen","setIsOpen","fetchAvailableCards","playersRes","playsRes","modifiersRes","Promise","all","fetch","json","error","console","buyCard","cardId","cardType","card","find","c","id","newDeck","deck","alert","name","getCurrentCards","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","category","type","slice","data","cost","length","_c","$RefreshReg$"],"sources":["/Users/glockstock/Projects/fantasy-football-roguelike/frontend/src/components/CardShop.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useGame } from '../context/GameContext';\nimport { Player, Play, Modifier } from '../types/game';\nimport CardComponent from './CardComponent';\n\nconst CardShop: React.FC = () => {\n  const { gameState, setGameState } = useGame();\n  const [availableCards, setAvailableCards] = useState<{\n    players: Player[];\n    plays: Play[];\n    modifiers: Modifier[];\n  }>({ players: [], plays: [], modifiers: [] });\n  const [selectedCategory, setSelectedCategory] = useState<'players' | 'plays' | 'modifiers'>('players');\n  const [isOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    fetchAvailableCards();\n  }, []);\n\n  const fetchAvailableCards = async () => {\n    try {\n      const [playersRes, playsRes, modifiersRes] = await Promise.all([\n        fetch('/api/cards/players'),\n        fetch('/api/cards/plays'),\n        fetch('/api/cards/modifiers'),\n      ]);\n\n      const players = await playersRes.json();\n      const plays = await playsRes.json();\n      const modifiers = await modifiersRes.json();\n\n      setAvailableCards({ players, plays, modifiers });\n    } catch (error) {\n      console.error('Failed to fetch available cards:', error);\n    }\n  };\n\n  const buyCard = async (cardId: number, cardType: 'players' | 'plays' | 'modifiers') => {\n    if (!gameState) return;\n\n    let card: Player | Play | Modifier | undefined;\n    if (cardType === 'players') {\n      card = availableCards.players.find((c: Player) => c.id === cardId);\n    } else if (cardType === 'plays') {\n      card = availableCards.plays.find((c: Play) => c.id === cardId);\n    } else {\n      card = availableCards.modifiers.find((c: Modifier) => c.id === cardId);\n    }\n    \n    if (!card) return;\n\n    // Simple buying logic - in a real game, you'd have currency/points system\n    const newDeck = {\n      ...gameState.deck,\n      [cardType]: [...gameState.deck[cardType], cardId]\n    };\n\n    setGameState({\n      ...gameState,\n      deck: newDeck\n    });\n\n    alert(`Added ${card.name} to your deck!`);\n  };\n\n  const getCurrentCards = () => {\n    switch (selectedCategory) {\n      case 'players': return availableCards.players;\n      case 'plays': return availableCards.plays;\n      case 'modifiers': return availableCards.modifiers;\n      default: return [];\n    }\n  };\n\n  if (!isOpen) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\n        <button\n          onClick={() => setIsOpen(true)}\n          className=\"w-full px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors\"\n        >\n          Open Card Shop\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-xl font-bold text-gray-800\">Card Shop</h2>\n        <button\n          onClick={() => setIsOpen(false)}\n          className=\"text-gray-500 hover:text-gray-700\"\n        >\n          ✕\n        </button>\n      </div>\n\n      {/* Category Tabs */}\n      <div className=\"flex space-x-2 mb-4\">\n        {(['players', 'plays', 'modifiers'] as const).map(category => (\n          <button\n            key={category}\n            onClick={() => setSelectedCategory(category)}\n            className={`px-4 py-2 rounded capitalize transition-colors ${\n              selectedCategory === category\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n          >\n            {category}\n          </button>\n        ))}\n      </div>\n\n      {/* Cards Grid */}\n      <div className=\"grid grid-cols-1 gap-4 max-h-96 overflow-y-auto\">\n        {getCurrentCards().map(card => (\n          <div key={card.id} className=\"flex items-center space-x-4 p-3 border rounded-lg\">\n            <div className=\"flex-1\">\n              <CardComponent \n                card={{ \n                  id: card.id, \n                  type: selectedCategory.slice(0, -1) as 'player' | 'play' | 'modifier', \n                  data: card \n                }}\n              />\n            </div>\n            <button\n              onClick={() => buyCard(card.id, selectedCategory)}\n              className=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors\"\n            >\n              Buy (${card.cost})\n            </button>\n          </div>\n        ))}\n      </div>\n\n      {getCurrentCards().length === 0 && (\n        <div className=\"text-center text-gray-500 py-8\">\n          No {selectedCategory} available\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CardShop;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}