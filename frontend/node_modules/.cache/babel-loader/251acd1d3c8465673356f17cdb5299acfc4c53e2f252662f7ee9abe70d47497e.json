{"ast":null,"code":"var _jsxFileName = \"/Users/glockstock/Projects/fantasy-football-roguelike/frontend/src/components/Hand.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useGame } from '../context/GameContext';\nimport CardComponent from './CardComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Hand = ({\n  onCardPlay\n}) => {\n  _s();\n  const {\n    gameState,\n    setGameState,\n    playCard\n  } = useGame();\n  const [hand, setHand] = useState([]);\n  const [allCards, setAllCards] = useState({\n    players: [],\n    plays: [],\n    modifiers: []\n  });\n  useEffect(() => {\n    fetchAllCards();\n  }, []);\n  useEffect(() => {\n    if (gameState && allCards.players.length > 0) {\n      generateHand();\n    }\n  }, [gameState, allCards]);\n  const fetchAllCards = async () => {\n    try {\n      const [playersRes, playsRes, modifiersRes] = await Promise.all([fetch('/api/cards/players'), fetch('/api/cards/plays'), fetch('/api/cards/modifiers')]);\n      const players = await playersRes.json();\n      const plays = await playsRes.json();\n      const modifiers = await modifiersRes.json();\n      setAllCards({\n        players,\n        plays,\n        modifiers\n      });\n    } catch (error) {\n      console.error('Failed to fetch cards:', error);\n    }\n  };\n  const generateHand = () => {\n    if (!gameState || !allCards.players.length) return;\n    const handCards = [];\n\n    // Add players from deck\n    gameState.deck.players.forEach(playerId => {\n      const player = allCards.players.find(p => p.id === playerId);\n      if (player) {\n        handCards.push({\n          id: player.id,\n          type: 'player',\n          data: player\n        });\n      }\n    });\n\n    // Add plays from deck\n    gameState.deck.plays.forEach(playId => {\n      const play = allCards.plays.find(p => p.id === playId);\n      if (play) {\n        handCards.push({\n          id: play.id,\n          type: 'play',\n          data: play\n        });\n      }\n    });\n\n    // Add modifiers from deck\n    gameState.deck.modifiers.forEach(modifierId => {\n      const modifier = allCards.modifiers.find(m => m.id === modifierId);\n      if (modifier) {\n        handCards.push({\n          id: modifier.id,\n          type: 'modifier',\n          data: modifier\n        });\n      }\n    });\n    setHand(handCards);\n  };\n  const drawCard = () => {\n    // Simple card drawing logic - can be enhanced\n    const allAvailableCards = [...allCards.players.map(p => ({\n      id: p.id,\n      type: 'player',\n      data: p\n    })), ...allCards.plays.map(p => ({\n      id: p.id,\n      type: 'play',\n      data: p\n    })), ...allCards.modifiers.map(m => ({\n      id: m.id,\n      type: 'modifier',\n      data: m\n    }))];\n    const randomCard = allAvailableCards[Math.floor(Math.random() * allAvailableCards.length)];\n    setHand(prev => [...prev, randomCard]);\n  };\n  const handleCardClick = card => {\n    playCard(card);\n    // Remove the card from hand after playing\n    setHand(prev => prev.filter(c => c.id !== card.id || c.type !== card.type));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-lg p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-800\",\n        children: \"Your Hand\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: drawCard,\n        className: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\",\n        children: \"Draw Card\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\",\n      children: hand.map((card, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cursor-pointer hover:scale-105 transition-transform\",\n        children: /*#__PURE__*/_jsxDEV(CardComponent, {\n          card: card,\n          onClick: () => handleCardClick(card)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)\n      }, `${card.id}-${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), hand.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-gray-500 py-8\",\n      children: \"No cards in hand. Click \\\"Draw Card\\\" to get started!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(Hand, \"Z+oqHPBVxELQlfQSOO0BaQSt7qk=\", false, function () {\n  return [useGame];\n});\n_c = Hand;\nexport default Hand;\nvar _c;\n$RefreshReg$(_c, \"Hand\");","map":{"version":3,"names":["React","useState","useEffect","useGame","CardComponent","jsxDEV","_jsxDEV","Hand","onCardPlay","_s","gameState","setGameState","playCard","hand","setHand","allCards","setAllCards","players","plays","modifiers","fetchAllCards","length","generateHand","playersRes","playsRes","modifiersRes","Promise","all","fetch","json","error","console","handCards","deck","forEach","playerId","player","find","p","id","push","type","data","playId","play","modifierId","modifier","m","drawCard","allAvailableCards","map","randomCard","Math","floor","random","prev","handleCardClick","card","filter","c","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","index","_c","$RefreshReg$"],"sources":["/Users/glockstock/Projects/fantasy-football-roguelike/frontend/src/components/Hand.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useGame } from '../context/GameContext';\nimport { Card, Player, Play, Modifier } from '../types/game';\nimport CardComponent from './CardComponent';\n\ninterface HandProps {\n  onCardPlay?: (card: Card) => void;\n}\n\nconst Hand: React.FC<HandProps> = ({ onCardPlay }) => {\n  const { gameState, setGameState, playCard } = useGame();\n  const [hand, setHand] = useState<Card[]>([]);\n  const [allCards, setAllCards] = useState<{\n    players: Player[];\n    plays: Play[];\n    modifiers: Modifier[];\n  }>({ players: [], plays: [], modifiers: [] });\n\n  useEffect(() => {\n    fetchAllCards();\n  }, []);\n\n  useEffect(() => {\n    if (gameState && allCards.players.length > 0) {\n      generateHand();\n    }\n  }, [gameState, allCards]);\n\n  const fetchAllCards = async () => {\n    try {\n      const [playersRes, playsRes, modifiersRes] = await Promise.all([\n        fetch('/api/cards/players'),\n        fetch('/api/cards/plays'),\n        fetch('/api/cards/modifiers'),\n      ]);\n\n      const players = await playersRes.json();\n      const plays = await playsRes.json();\n      const modifiers = await modifiersRes.json();\n\n      setAllCards({ players, plays, modifiers });\n    } catch (error) {\n      console.error('Failed to fetch cards:', error);\n    }\n  };\n\n  const generateHand = () => {\n    if (!gameState || !allCards.players.length) return;\n\n    const handCards: Card[] = [];\n\n    // Add players from deck\n    gameState.deck.players.forEach(playerId => {\n      const player = allCards.players.find(p => p.id === playerId);\n      if (player) {\n        handCards.push({ id: player.id, type: 'player', data: player });\n      }\n    });\n\n    // Add plays from deck\n    gameState.deck.plays.forEach(playId => {\n      const play = allCards.plays.find(p => p.id === playId);\n      if (play) {\n        handCards.push({ id: play.id, type: 'play', data: play });\n      }\n    });\n\n    // Add modifiers from deck\n    gameState.deck.modifiers.forEach(modifierId => {\n      const modifier = allCards.modifiers.find(m => m.id === modifierId);\n      if (modifier) {\n        handCards.push({ id: modifier.id, type: 'modifier', data: modifier });\n      }\n    });\n\n    setHand(handCards);\n  };\n\n  const drawCard = () => {\n    // Simple card drawing logic - can be enhanced\n    const allAvailableCards = [\n      ...allCards.players.map(p => ({ id: p.id, type: 'player' as const, data: p })),\n      ...allCards.plays.map(p => ({ id: p.id, type: 'play' as const, data: p })),\n      ...allCards.modifiers.map(m => ({ id: m.id, type: 'modifier' as const, data: m })),\n    ];\n\n    const randomCard = allAvailableCards[Math.floor(Math.random() * allAvailableCards.length)];\n    setHand(prev => [...prev, randomCard]);\n  };\n\n  const handleCardClick = (card: Card) => {\n    playCard(card);\n    // Remove the card from hand after playing\n    setHand(prev => prev.filter(c => c.id !== card.id || c.type !== card.type));\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-xl font-bold text-gray-800\">Your Hand</h2>\n        <button\n          onClick={drawCard}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\n        >\n          Draw Card\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n        {hand.map((card, index) => (\n          <div key={`${card.id}-${index}`} className=\"cursor-pointer hover:scale-105 transition-transform\">\n            <CardComponent card={card} onClick={() => handleCardClick(card)} />\n          </div>\n        ))}\n      </div>\n\n      {hand.length === 0 && (\n        <div className=\"text-center text-gray-500 py-8\">\n          No cards in hand. Click \"Draw Card\" to get started!\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Hand;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}